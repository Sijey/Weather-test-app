(this["webpackJsonpweather-test-app"]=this["webpackJsonpweather-test-app"]||[]).push([[0],{174:function(e,t,r){e.exports=r(304)},179:function(e,t,r){},184:function(e,t,r){},185:function(e,t,r){},282:function(e,t,r){},304:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(27),o=r.n(c),l=(r(179),r(47)),u=r(53),i=r(23),s=r(163),f=function(e){return fetch(e).then((function(e){return e.json()}))},m="https://api.openweathermap.org/data/2.5/",d="&units=metric&lang=ru&mode=json&appid=",p="HANDLE_SUCCESS",h="HANDLE_ERROR",E="ADD_CITY",y=function(){return function(e,t){var r=function(e){return e.cityName}(t());Promise.all([f("".concat(m,"weather?q=").concat(r+d+"c792484ade42380886f51003cfcaf04d")),f("".concat(m,"forecast?q=").concat(r+d+"c792484ade42380886f51003cfcaf04d"))]).then((function(t){var r=Object(s.a)(t,2),a=r[0],n=r[1].list.filter((function(e){return e.dt_txt.includes("06:00:00")}));e(function(e,t){return{type:p,weather:e,forecast:t}}(a,n))})).catch((function(){return e({type:h,payload:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"})}))}};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={hasError:null,weather:null,forecast:[],cityName:"kharkiv"},v=r(146),j=(r(184),r(319)),g=r(313),N=r(314),D=r(318),P=(r(185),function(e){var t=e.day,r=1e3*t.dt,a=new Date(r).toLocaleDateString("ru",{weekday:"short",day:"numeric",month:"long"}),c="owf owf-"+t.weather[0].id+" owf-3x";return n.a.createElement(D.a,{className:"claim_card"},n.a.createElement(D.a.Content,null,n.a.createElement(D.a.Header,null,a),n.a.createElement("i",{className:c}),n.a.createElement(D.a.Meta,null,Math.round(t.main.temp)," \xb0C"),n.a.createElement(D.a.Description,null,t.weather[0].description)))}),C=(r(282),Object(l.b)((function(e){return{weather:e.weather,error:e.hasError,forecast:e.forecast}}),(function(e){return{load:function(t){return e(y())}}}))((function(e){var t=e.weather,r=e.forecast,c=e.error,o=e.load;if(Object(a.useEffect)((function(){o()}),[o]),c)return n.a.createElement(j.a,{negative:!0},n.a.createElement(j.a.Header,null,c),n.a.createElement(g.a,null));if(t&&r){return n.a.createElement("div",null,n.a.createElement("h1",{className:"city-name"}," \u0413\u043e\u0440\u043e\u0434: ",t.name),n.a.createElement("div",{className:"weather"},n.a.createElement(P,{day:t})),n.a.createElement("div",{className:"forecast"},r.map((function(e,t){return n.a.createElement(P,{day:e,key:t})}))))}return n.a.createElement(N.a,{className:"claim_loader",active:!0,inline:"centered"})}))),k=r(316),S=r(315),_=r(305),x=Object(l.b)(null,(function(e){return{load:function(){return e(y())},addCity:function(t){return e(function(e){return{type:E,city:e}}(t))}}}))((function(e){var t=e.load,r=e.addCity;return n.a.createElement(k.a,{className:"search_bar",onSubmit:t},n.a.createElement(S.a,null,n.a.createElement(S.a,{type:"text",size:"small",onChange:function(e){return r(e.target.value)}}),n.a.createElement(_.a,{type:"submit",size:"small",color:"green"},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443")))})),H=Object(u.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return b({},e,{hasError:t.payload});case p:return b({},e,{weather:t.weather,forecast:t.forecast,hasError:null});case E:return b({},e,{cityName:t.city});default:return e}}),Object(u.a)(v.a));var A=function(){return n.a.createElement(l.a,{store:H},n.a.createElement("div",{className:"wrapper"},n.a.createElement(x,null),n.a.createElement(C,null)))};o.a.render(n.a.createElement(A,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.e85e3ce8.chunk.js.map