(this["webpackJsonpweather-test-app"]=this["webpackJsonpweather-test-app"]||[]).push([[0],{174:function(e,t,a){e.exports=a(304)},179:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},282:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),i=(a(179),a(47)),u=a(53),l=a(23),f=a(163),s=function(e){return fetch(e).then((function(e){return e.json()}))},m="https://api.openweathermap.org/data/2.5/",d="&units=metric&lang=ru&mode=json&appid=",p="HANDLE_SUCCESS",h="HANDLE_ERROR",y="ADD_CITY",E=function(e){return function(t){Promise.all([s("".concat(m,"weather?q=").concat(e+d+"c792484ade42380886f51003cfcaf04d")),s("".concat(m,"forecast?q=").concat(e+d+"c792484ade42380886f51003cfcaf04d"))]).then((function(e){var a=Object(f.a)(e,2),n=a[0],r=a[1].list.filter((function(e){return e.dt_txt.includes("06:00:00")}));t(function(e,t){return{type:p,weather:e,forecast:t}}(n,r))})).catch((function(){return t({type:h,payload:"Loading failed"})}))}};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={hasError:null,weather:null,forecast:[],cityName:"kharkiv"},v=a(146),g=(a(184),a(319)),j=a(313),N=a(305),D=a(314),C=a(318),P=(a(185),function(e){var t=e.day,a=1e3*t.dt,n=new Date(a).toLocaleDateString("ru",{weekday:"long",day:"numeric",month:"long"}),c="owf owf-"+t.weather[0].id+" owf-5x";return r.a.createElement(C.a,{className:"claim_card"},r.a.createElement(C.a.Content,null,r.a.createElement(C.a.Header,null,n),r.a.createElement("i",{className:c}),r.a.createElement(C.a.Meta,null,Math.round(t.main.temp)," \xb0C"),r.a.createElement(C.a.Description,null,t.weather[0].description)))}),k=(a(282),Object(i.b)((function(e){return{weather:e.weather,error:e.hasError,forecast:e.forecast,city:e.cityName}}),(function(e){return{load:function(t){return e(E(t))}}}))((function(e){var t=e.weather,a=e.forecast,c=e.error,o=e.load,i=e.city;if(Object(n.useEffect)((function(){o(i)}),[o]),t&&a){return r.a.createElement("div",null,r.a.createElement("h1",null,"Weather in ",t.name),r.a.createElement("div",{className:"weather"},r.a.createElement(P,{day:t})),r.a.createElement("div",{className:"forecast"},a.map((function(e,t){return r.a.createElement(P,{day:e,key:t})}))))}return c?r.a.createElement(g.a,{negative:!0},r.a.createElement(g.a.Header,null,c),r.a.createElement(j.a,null),r.a.createElement(N.a,{onClick:o},"Try again")):r.a.createElement(D.a,{className:"claim_loader",active:!0,inline:"centered"})}))),S=a(316),_=a(315),x=Object(i.b)((function(e){return{city:e.cityName}}),(function(e){return{load:function(t){return e(E(t))},addCity:function(t){return e(function(e){return{type:y,city:e}}(t))}}}))((function(e){var t=e.city,a=e.load,n=e.addCity;return r.a.createElement(S.a,{className:"search_bar",onSubmit:function(){return a(t)}},r.a.createElement(_.a,{type:"text",name:t,onChange:function(e){return n(e.target.value)}}),r.a.createElement(_.a,{type:"submit",value:"Get weather"}))})),H=Object(u.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return b({},e,{hasError:t.payload});case p:return b({},e,{weather:t.weather,forecast:t.forecast});case y:return b({},e,{cityName:t.city});default:return e}}),Object(u.a)(v.a));var L=function(){return r.a.createElement(i.a,{store:H},r.a.createElement("div",{className:"wrapper"},r.a.createElement(x,null),r.a.createElement(k,null)))};o.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.2a6d752f.chunk.js.map