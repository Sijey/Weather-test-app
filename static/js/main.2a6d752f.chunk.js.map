{"version":3,"sources":["api/api.js","actions/weather.js","reducers/weather.js","components/card/Card.js","components/weatherList/WeatherList.js","components/searchBar/SearchBar.js","App.js","index.js"],"names":["loadData","url","fetch","then","response","json","API","linkProps","WEATHER_ACTIONS","loadWeather","city","dispatch","Promise","all","weather","dailyData","list","filter","reading","dt_txt","includes","forecast","type","handleWeatherWithForecast","catch","payload","initialState","hasError","cityName","CardItem","day","ms","dt","dayName","Date","toLocaleDateString","weekday","month","imgURL","id","Card","className","Content","Header","Meta","Math","round","main","temp","Description","description","connect","state","error","load","useEffect","name","map","key","Message","negative","Divider","Button","onClick","Loader","active","inline","addCity","Form","onSubmit","Input","onChange","event","target","value","store","createStore","action","applyMiddleware","thunk","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a6d752f.chunk.js","sourcesContent":["export const loadData = url => fetch(url)\n    .then(response => response.json());\n","import {loadData} from '../api/api';\n\nconst API = 'https://api.openweathermap.org/data/2.5/';\nconst linkProps = '&units=metric&lang=ru&mode=json&appid=';\nconst openWeatherApiKey = 'c792484ade42380886f51003cfcaf04d';\n\nexport const WEATHER_ACTIONS = {\n  HANDLE_SUCCESS: 'HANDLE_SUCCESS',\n  HANDLE_ERROR: 'HANDLE_ERROR',\n  ADD_CITY: 'ADD_CITY',\n};\n\nconst handleError = (error) => ({\n  type: WEATHER_ACTIONS.HANDLE_ERROR,\n  payload: error,\n});\n\nexport const addCity = (city) => ({\n  type: WEATHER_ACTIONS.ADD_CITY,\n  city,\n});\n\nexport const handleWeatherWithForecast = (weather, forecast) => ({\n  type: WEATHER_ACTIONS.HANDLE_SUCCESS,\n  weather,\n  forecast,\n});\n\nexport const loadWeather = (city) => {\n  return dispatch => {\n    Promise.all([loadData(`${API}weather?q=${city + linkProps + openWeatherApiKey}`),\n                        loadData(`${API}forecast?q=${city + linkProps + openWeatherApiKey}`)])\n        .then(([weather, forecast]) => {\n            const dailyData = forecast.list.filter(reading => reading.dt_txt.includes('06:00:00'));\n            dispatch(handleWeatherWithForecast(weather, dailyData));\n        })\n        .catch(() => dispatch(handleError('Loading failed')));\n  }\n};\n","import {WEATHER_ACTIONS} from '../actions/weather';\n\nconst initialState = {\n  hasError: null,\n  weather: null,\n  forecast: [],\n  cityName: 'kharkiv',\n};\n\n export const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case WEATHER_ACTIONS.HANDLE_ERROR:\n      return {\n        ...state,\n        hasError: action.payload,\n      };\n    case WEATHER_ACTIONS.HANDLE_SUCCESS:\n      return {\n        ...state,\n        weather: action.weather,\n        forecast: action.forecast,\n      };\n    case WEATHER_ACTIONS.ADD_CITY:\n      return {\n        ...state,\n        cityName: action.city,\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport {Card} from 'semantic-ui-react';\nimport './Card.css';\n\nconst CardItem = ({day}) => {\n\n  const ms = day.dt * 1000;\n  const dayName = new Date(ms).toLocaleDateString('ru', {weekday: 'long', day: 'numeric', month: 'long'});\n  const imgURL = \"owf owf-\" + day.weather[0].id + \" owf-5x\";\n\n  return (\n    <Card className='claim_card'>\n      <Card.Content>\n        <Card.Header>{dayName}</Card.Header>\n        <i className={imgURL}/>\n        <Card.Meta>{Math.round(day.main.temp)} Â°C</Card.Meta>\n        <Card.Description>{day.weather[0].description}</Card.Description>\n      </Card.Content>\n    </Card>\n  )\n};\n\nexport default CardItem;\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport {loadWeather} from '../../actions/weather';\nimport {Message, Divider, Button, Loader} from 'semantic-ui-react';\nimport CardItem from '../card/Card';\nimport './WeatherList.css';\n\nconst WeatherList = ({weather, forecast, error, load, city}) => {\n\n  useEffect(() => {\n    load(city);\n  }, [load]);\n\n  if (weather && forecast) {\n    const forecastCard = () => {\n      return forecast.map((day, id) => <CardItem day={day} key={id} />)\n    };\n\n    return (\n      <div>\n        <h1>Weather in {weather.name}</h1>\n        <div className='weather'><CardItem day={weather}/></div>\n        <div className='forecast'>{forecastCard()}</div>\n      </div>\n    )\n  } else if (error) {\n    return (\n      <Message negative>\n        <Message.Header>{error}</Message.Header>\n        <Divider />\n        <Button onClick={load}>Try again</Button>\n      </Message>\n    );\n  } else {\n    return <Loader className='claim_loader' active inline='centered' />\n  }\n};\n\nexport default connect(state => ({\n  weather: state.weather,\n  error: state.hasError,\n  forecast: state.forecast,\n  city: state.cityName\n}), dispatch => ({\n  load: (city) => dispatch(loadWeather(city)),\n}))(WeatherList);\n","import React from 'react';\nimport {Form, Input} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport {addCity, loadWeather} from \"../../actions/weather\";\n\nconst SearchBar = ({city, load, addCity}) => {\n  return (\n    <Form className='search_bar' onSubmit={() => load(city)}>\n      <Input type='text' name={city} onChange={event => addCity(event.target.value)} />\n      <Input type='submit' value='Get weather' />\n    </Form>\n  );\n};\n\nexport default connect(state => ({\n  city: state.cityName\n}), dispatch => ({\n  load: (city) => dispatch(loadWeather(city)),\n  addCity: city => dispatch(addCity(city)),\n}))(SearchBar);\n","import React from 'react';\nimport {Provider} from 'react-redux';\nimport {applyMiddleware, createStore} from 'redux';\nimport {reducer} from './reducers/weather';\nimport thunk from 'redux-thunk';\nimport './App.css';\nimport WeatherList from \"./components/weatherList/WeatherList\";\nimport SearchBar from \"./components/searchBar/SearchBar\";\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className='wrapper'>\n        <SearchBar />\n        <WeatherList />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}